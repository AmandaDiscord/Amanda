import{SoundCloudWrapper as r}from"./SoundCloudWrapper.js";class ListenManager{constructor(){this.currentWrapper=null,this.wrappers={soundCloudWrapper:new r},this.enabled=!1}boot(r,e){this.enabled=!0,this._selectWrapper(r),this.currentWrapper&&(this.currentWrapper.load(r),this.currentWrapper.seekAndPlay(e,1e3*r.length))}load(r){this.enabled&&(this.stop(),this._selectWrapper(r),this.currentWrapper&&this.currentWrapper.load(r))}async next(r){this.enabled&&(console.log("next: calling stop"),this.currentWrapper&&await this.currentWrapper.stop(),console.log("next: selecting wrapper"),this._selectWrapper(r),this.currentWrapper&&(console.log("next: loading"),await this.currentWrapper.load(r),console.log("next: resuming"),await this.currentWrapper.resume()))}pause(){this.currentWrapper&&this.currentWrapper.pause()}resume(){this.currentWrapper&&this.currentWrapper.resume()}stop(){this.currentWrapper&&(this.currentWrapper.stop(),this.currentWrapper=null)}_selectWrapper(r){"soundcloud"===r.source?this.currentWrapper=this.wrappers.soundCloudWrapper:this.currentWrapper=null}}export{ListenManager};
